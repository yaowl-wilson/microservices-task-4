<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> Wilson Yao Weilin - REST Client</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
</head>

<script>

fetch(
	'https://jsonplaceholder.typicode.com/users'
)
.then(response => response.json())
.then(data => {

	console.log(data);

  /*
        "id": 1,
        "name": "Leanne Graham",
        "username": "Bret",
        "email": "Sincere@april.biz"
  */


  var tr = document.getElementById('data-table-header').rows[0];
  th = document.createElement('th');
  th.innerHTML = "Website";
  tr.appendChild(th); 
  
  var data_table_body = document.getElementById("data-table-body");
  console.log(data_table_body);

  while(data_table_body.rows.length) {
    data_table_body.deleteRow(0);
  }

  for (var i = 0; i < data.length; i++){
    var obj = data[i];

    var id = obj["id"];
    var name = obj["name"];
    var username = obj["username"];
    var email = obj["email"];
    var website = obj["website"];

    console.log("id: " + id);
    console.log("name: " + name);
    console.log("username: " + username);
    console.log("email: " + email);

    // Insert a row at the end of table
    var newRow = data_table_body.insertRow();

    // Append a text node to the new cell
    var newCell = newRow.insertCell();
    var idText = document.createTextNode(id);
    newCell.appendChild(idText);

    var newCell = newRow.insertCell();
    var nameText = document.createTextNode(name);
    newCell.appendChild(nameText);

    var newCell = newRow.insertCell();
    var usernameText = document.createTextNode(username);
    newCell.appendChild(usernameText);

    var newCell = newRow.insertCell();
    var emailText = document.createTextNode(email);
    newCell.appendChild(emailText);

    var newCell = newRow.insertCell();
    var website = document.createTextNode(website);
    newCell.appendChild(website);

  }
  
});

</script

<body>

    <div class="container">
        <table id="data-table" class="table">
            <thead id="data-table-header">
              <tr>
                <th scope="col">#id</th>
                <th scope="col">name</th>
                <th scope="col">username</th>
                <th scope="col">email</th>
              </tr>
            </thead>
            <tbody id="data-table-body">
              <tr>
                <th scope="row">1</th>
                <td>Mark</td>
                <td>Otto</td>
                <td>@mdo</td>
              </tr>
              <tr>
                <th scope="row">2</th>
                <td>Jacob</td>
                <td>Thornton</td>
                <td>@fat</td>
              </tr>
              <tr>
                <th scope="row">3</th>
                <td>Larry</td>
                <td>the Bird</td>
                <td>@twitter</td>
              </tr>
            </tbody>
          </table>
    </div>
    
</body>
</html>